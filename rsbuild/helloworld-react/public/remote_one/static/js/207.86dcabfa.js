"use strict";(self.webpackChunkrsbuild_remote_one=self.webpackChunkrsbuild_remote_one||[]).push([["207"],{103:function(){},70:function(e,r,t){t.d(r,{Z:function(){return n}});var o=t(676);t(103);let n=()=>(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"Remote One"}),(0,o.jsx)("p",{children:"Rsbuild + React"})]})},102:function(e,r,t){let o;t.d(r,{G:()=>eo});var n={};t.r(n),t.d(n,{AbortedDeferredError:()=>q.X3,Await:()=>q.KP,BrowserRouter:()=>z,Form:()=>q.l0,HashRouter:()=>q.UT,Link:()=>q.rU,MemoryRouter:()=>q.VA,NavLink:()=>q.OL,Navigate:()=>q.Fg,NavigationType:()=>q.N$,Outlet:()=>q.j3,Route:()=>q.AW,Router:()=>q.F0,RouterProvider:()=>X,Routes:()=>q.Z5,ScrollRestoration:()=>q.GI,UNSAFE_DataRouterContext:()=>q.w3,UNSAFE_DataRouterStateContext:()=>q.FR,UNSAFE_ErrorResponseImpl:()=>q.OF,UNSAFE_FetchersContext:()=>q.gY,UNSAFE_LocationContext:()=>q.gd,UNSAFE_NavigationContext:()=>q.Us,UNSAFE_RouteContext:()=>q.pW,UNSAFE_ViewTransitionContext:()=>q.gL,UNSAFE_useRouteId:()=>q.Yi,UNSAFE_useScrollRestoration:()=>q.Ys,createBrowserRouter:()=>q.aj,createHashRouter:()=>q.cP,createMemoryRouter:()=>q.bi,createPath:()=>q.Ep,createRoutesFromChildren:()=>q.is,createRoutesFromElements:()=>q.i7,createSearchParams:()=>q.fW,defer:()=>q.PQ,generatePath:()=>q.Gn,isRouteErrorResponse:()=>q.WK,json:()=>q.AV,matchPath:()=>q.LX,matchRoutes:()=>q.fp,parsePath:()=>q.I8,redirect:()=>q.uX,redirectDocument:()=>q.fZ,renderMatches:()=>q.Oe,replace:()=>q.gx,resolvePath:()=>q.i3,unstable_HistoryRouter:()=>q.M,unstable_usePrompt:()=>q.kz,useActionData:()=>q.nA,useAsyncError:()=>q.iG,useAsyncValue:()=>q.qv,useBeforeUnload:()=>q.yq,useBlocker:()=>q._Z,useFetcher:()=>q.wh,useFetchers:()=>q.eM,useFormAction:()=>q.qG,useHref:()=>q.oQ,useInRouterContext:()=>q.GV,useLinkClickHandler:()=>q.gs,useLoaderData:()=>q.f_,useLocation:()=>q.TH,useMatch:()=>q.bS,useMatches:()=>q.SN,useNavigate:()=>q.s0,useNavigation:()=>q.HJ,useNavigationType:()=>q.ur,useOutlet:()=>q.pC,useOutletContext:()=>q.bx,useParams:()=>q.UO,useResolvedPath:()=>q.WU,useRevalidator:()=>q.xW,useRouteError:()=>q.lk,useRouteLoaderData:()=>q.V4,useRoutes:()=>q.V$,useSearchParams:()=>q.lr,useSubmit:()=>q.qd,useViewTransitionState:()=>q.WX});var l=t("547"),a=t.t(l,2),i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,d=(e,r,t,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let n of u(r))!c.call(e,n)&&n!==t&&i(e,n,{get:()=>r[n],enumerable:!(o=s(r,n))||o.enumerable});return e},f={};((e,r)=>{for(var t in r)i(e,t,{get:r[t],enumerable:!0})})(f,{createLogger:()=>U,logger:()=>j});var m=(o=f,d(i({},"__esModule",{value:!0}),o)),g=void 0,p=()=>{if(void 0!==g)return g;try{let e="color test",r="color: red;",t=console.log;console.log=(...t)=>{t[0]===`%c${e}`&&t[1]===r&&(g=!0)},console.log(`%c${e}`,r),console.log=t}catch(e){g=!1}return g},v={bold:"font-weight: bold;",red:"color: red;",green:"color: green;",orange:"color: orange;",dodgerblue:"color: dodgerblue;",magenta:"color: magenta;",gray:"color: gray;"},h=e=>p()?r=>{if(Array.isArray(r)){let[t,o]=r;return[`%c${t.replace("%c","")}`,o?`${v[e]}${o}`:`${v[e]||""}`]}return[`%c${String(r).replace("%c","")}`,v[e]||""]}:e=>[String(e)],y=h("bold"),b=h("red"),R=h("green"),E=h("orange"),w=h("dodgerblue"),C=h("magenta");function A(e,r,t){let o=[""];return"label"in r&&(o=[t[e]||r.label||""],o=y(r.color?r.color(o):o[0])),o=o.filter(Boolean)}function _(e,r,t,o){e.length?Array.isArray(o)?console.log(...e,...o):console.log(...e,r):Array.isArray(o)?console.log(...o):console.log(r,...t)}h("gray");var P={error:0,warn:1,info:2,log:3,verbose:4},$=/at\s.*:\d+:\d+[\s\)]*$/,S=/at\s.*\(<anonymous>\)$/,F=e=>$.test(e)||S.test(e),N=(e={},{getLabel:r,handleError:t,finalLog:o,greet:n,LOG_TYPES:l})=>{let a=e.level||"log",i=e.labels||{},s=(e,n,...s)=>{if(P[l[e].level]>P[a])return;if(null==n)return console.log();let u=l[e],c="",d=r(e,u,i);if(n instanceof Error){if(n.stack){let[e,...r]=n.stack.split("\n");e.startsWith("Error: ")&&(e=e.slice(7)),c=`${e}
${t(r.join("\n"))}`}else c=n.message}else c="error"===u.level&&"string"==typeof n?n.split("\n").map(e=>F(e)?t(e):e).join("\n"):`${n}`;o(d,c,s,n)},u={greet:e=>s("log",n(e))};return Object.keys(l).forEach(e=>{u[e]=(...r)=>s(e,...r)}),Object.defineProperty(u,"level",{get:()=>a,set(e){a=e}}),Object.defineProperty(u,"labels",{get:()=>i,set(e){i=e}}),u.override=e=>{Object.assign(u,e)},u},B=[189,255,243],D=[74,194,154],O=e=>!/[\s\n]/.test(e);function x(e){if(!p())return[e];let r=[...e],t=r.filter(O),o=t.length-1;if(0===o)return console.log(`%c${e}`,`color: rgb(${B.join(",")}); font-weight: bold;`),[e];let n="",l=[];return r.forEach(e=>{if(O(e)){let r=t.indexOf(e)/o,a=Math.round(B[0]+(74-B[0])*r),i=Math.round(B[1]+(194-B[1])*r),s=Math.round(B[2]+(154-B[2])*r);n+=`%c${e}`,l.push(`color: rgb(${a},${i},${s}); font-weight: bold;`)}else n+=e}),[n,...l]}var k={error:{label:"error",level:"error",color:b},warn:{label:"warn",level:"warn",color:E},info:{label:"info",level:"info",color:w},start:{label:"start",level:"info",color:w},ready:{label:"ready",level:"info",color:R},success:{label:"success",level:"info",color:R},log:{level:"log"},debug:{label:"debug",level:"verbose",color:C}};function U(e={}){return N(e,{handleError:e=>e,getLabel:A,gradient:x,finalLog:_,LOG_TYPES:k,greet:e=>x(e)})}var j=U();let H="[ Module Federation ]";function I(e){var r,t,o;let n=m.createLogger({labels:{warn:`${H} Warn`,error:`${H} Error`,success:`${H} Success`,info:`${H} Info`,ready:`${H} Ready`,debug:`${H} Debug`}});return r=n,("undefined"!=typeof process&&process.env&&process.env.FEDERATION_DEBUG?!process.env.FEDERATION_DEBUG:"undefined"!=typeof FEDERATION_DEBUG&&FEDERATION_DEBUG?0:!function(){try{if("undefined"!=typeof window&&window.localStorage)return"1"===localStorage.getItem("FEDERATION_DEBUG")}catch(e){}return!1}())||(r.level="verbose"),t=n,o=e,t.labels={warn:`${o} Warn`,error:`${o} Error`,success:`${o} Success`,info:`${o} Info`,ready:`${o} Ready`,debug:`${o} Debug`},n}I(H);let L=I("[ Module Federation Bridge React ]");function T(e){if(!(e&&"string"==typeof e.version&&e.version.indexOf(".")>=0))return!1;{let r=e.version.split(".")[0];try{return Number(r)>=18}catch(e){return!1}}}function W(...e){return e.reduce((e,r)=>{let t=r;if(!t||"string"!=typeof t)return e;"/"!==t[0]&&(t=`/${t}`);let o=t.length-1;return"/"===t[o]&&(t=t.substring(0,o)),e+t},"")||"/"}let M=e=>{if(!e)return e;let r=e.split("/");return r.length<2?e:r[0]+"/"+r[1]},G=e=>{if(!e)return"";let r=M(e).replace(/\@/,"").replace(/\//,"-");return`bridge-root-component-${r}`},V=l.createContext(null);var K=t("384"),q=t("780");function z(e){let{basename:r,...t}=e,o=(0,l.useContext)(V)||{};return(L.log("WraperRouter info >>>",{...o,routerContextProps:o,WraperRouterProps:e}),null==o?void 0:o.memoryRoute)?l.createElement(K.VA,{...e,initialEntries:[null==o?void 0:o.memoryRoute.entryPath]}):l.createElement(q.VK,{...t,basename:(null==o?void 0:o.basename)||r})}function X(e){let{router:r,...t}=e,o=(0,l.useContext)(V)||{},n=r.routes;L.log("WraperRouterProvider info >>>",{...o,routerContextProps:o,WraperRouterProviderProps:e,router:r});let a=q.pG,i=K.bi,s=q.aj;if(o.memoryRoute){let e=i(n,{initialEntries:[null==o?void 0:o.memoryRoute.entryPath]});return l.createElement(a,{router:e})}{let e=s(n,{basename:o.basename||r.basename,future:r.future,window:r.window});return l.createElement(a,{...t,router:e})}}let Y=null;var Z=t("967");let Q=(0,l.createContext)(null),J={didCatch:!1,error:null};class ee extends l.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=J}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var r,t,o=arguments.length,n=Array(o),l=0;l<o;l++)n[l]=arguments[l];null===(r=(t=this.props).onReset)||void 0===r||r.call(t,{args:n,reason:"imperative-api"}),this.setState(J)}}componentDidCatch(e,r){var t,o;null===(t=(o=this.props).onError)||void 0===t||t.call(o,e,r)}componentDidUpdate(e,r){let{didCatch:t}=this.state,{resetKeys:o}=this.props;if(t&&null!==r.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==r.length||e.some((e,t)=>!Object.is(e,r[t]))}(e.resetKeys,o)){var n,l;null===(n=(l=this.props).onReset)||void 0===n||n.call(l,{next:o,prev:e.resetKeys,reason:"keys"}),this.setState(J)}}render(){let{children:e,fallbackRender:r,FallbackComponent:t,fallback:o}=this.props,{didCatch:n,error:a}=this.state,i=e;if(n){let e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof r)i=r(e);else if(t)i=(0,l.createElement)(t,e);else if(null===o||(0,l.isValidElement)(o))i=o;else throw a}return(0,l.createElement)(Q.Provider,{value:{didCatch:n,error:a,resetErrorBoundary:this.resetErrorBoundary}},i)}}let er=(0,l.forwardRef)(function(e,r){let t=()=>{L.log("RemoteAppWrapper RemoteApp props >>>",{props:e});let{moduleName:t,memoryRoute:o,basename:n,providerInfo:a,className:i,style:s,fallback:u,...c}=e,d=Y,f=r&&"current"in r?r:(0,l.useRef)(null),m=(0,l.useRef)(null),g=(0,l.useRef)(null);L.log("RemoteAppWrapper instance from props >>>",d),(0,l.useEffect)(()=>{let e=setTimeout(()=>{var e,r,l,i,s,p;let v=a();g.current=v;let h={moduleName:t,dom:f.current,basename:n,memoryRoute:o,fallback:u,...c};m.current=f.current,L.log("createRemoteComponent LazyComponent render >>>",h),L.log("createRemoteComponent LazyComponent hostInstance >>>",d);let y=(null==(l=null==(r=null==(e=null==d?void 0:d.bridgeHook)?void 0:e.lifecycle)?void 0:r.beforeBridgeRender)?void 0:l.emit(h))||{};h={...h,...y.extraProps},v.render(h),null==(p=null==(s=null==(i=null==d?void 0:d.bridgeHook)?void 0:i.lifecycle)?void 0:s.afterBridgeRender)||p.emit(h)});return()=>{clearTimeout(e),setTimeout(()=>{var e,r,l,a,i,s,f,p;(null==(e=g.current)?void 0:e.destroy)&&(L.log("createRemoteComponent LazyComponent destroy >>>",{moduleName:t,basename:n,dom:m.current}),null==(a=null==(l=null==(r=null==d?void 0:d.bridgeHook)?void 0:r.lifecycle)?void 0:l.beforeBridgeDestroy)||a.emit({moduleName:t,dom:m.current,basename:n,memoryRoute:o,fallback:u,...c}),null==(i=g.current)||i.destroy({moduleName:t,dom:m.current}),null==(p=null==(f=null==(s=null==d?void 0:d.bridgeHook)?void 0:s.lifecycle)?void 0:f.afterBridgeDestroy)||p.emit({moduleName:t,dom:m.current,basename:n,memoryRoute:o,fallback:u,...c}))})}},[]);let p=`${G(t)} ${null==e?void 0:e.className}`;return l.createElement("div",{className:p,style:null==e?void 0:e.style,ref:f})};return t.__APP_VERSION__="0.8.0",l.createElement(t,null)});!function(e){let r=(0,l.forwardRef)(function(r,t){var o;let a;let i=!1;try{q.TH(),i=!0}catch{i=!1}let s="/";if(!r.basename&&i){let e=n.useRouteMatch,r=n.useHistory,t=n.useHref,i=n.UNSAFE_RouteContext;if(i){if(t&&(s=null==t?void 0:t("/")),(a=(0,l.useContext)(i))&&a.matches&&a.matches.length>0){let e=a.matches.length-1;s=W(s,a.matches[e].pathnameBase||"/")}}else{let t=null==e?void 0:e();if(r){let e=null==r?void 0:r();s=null==(o=null==e?void 0:e.createHref)?void 0:o.call(e,{pathname:"/"})}t&&(s=W(s,(null==t?void 0:t.path)||"/"))}}if(L.log("createRemoteComponent withRouterData >>>",{...r,basename:s,routerContextVal:a,enableDispathPopstate:i}),i){let e=q.TH(),[t,o]=(0,l.useState)(e.pathname);(0,l.useEffect)(()=>{""!==t&&t!==e.pathname&&(L.log("createRemoteComponent dispatchPopstateEnv >>>",{name:r.name,pathname:e.pathname}),!function(){let e=new PopStateEvent("popstate",{state:window.history.state});window.dispatchEvent(e)}()),o(e.pathname)},[e])}return l.createElement(e,{...r,basename:s,ref:t})});(0,l.forwardRef)(function(e,t){return l.createElement(r,{...e,ref:t})})}(er);var et={};function eo(e){return()=>{let r=new Map,t=Y;L.log("createBridgeComponent instance from props >>>",t);let o=r=>{let{appInfo:t,propsInfo:o,...n}=r,{moduleName:a,memoryRoute:i,basename:s="/"}=t;return l.createElement(V.Provider,{value:{moduleName:a,basename:s,memoryRoute:i}},l.createElement(e.rootComponent,{...o,basename:s,...n}))};return{async render(n){var i,s,u,c,d,f;L.log("createBridgeComponent render Info",n);let{moduleName:m,dom:g,basename:p,memoryRoute:v,fallback:h,...y}=n,b=(null==(u=null==(s=null==(i=null==t?void 0:t.bridgeHook)?void 0:i.lifecycle)?void 0:s.beforeBridgeRender)?void 0:u.emit(n))||{},R=l.createElement(ee,{FallbackComponent:h},l.createElement(o,{appInfo:{moduleName:m,basename:p,memoryRoute:v},propsInfo:{...y,...null==b?void 0:b.extraProps}}));if(T(a)){if(null==e?void 0:e.render)Promise.resolve(null==e?void 0:e.render(R,g)).then(e=>r.set(n.dom,e));else{let e=et.createRoot(n.dom);e.render(R),r.set(n.dom,e)}}else{let r=(null==e?void 0:e.render)||Z.render;null==r||r(R,n.dom)}null==(f=null==(d=null==(c=null==t?void 0:t.bridgeHook)?void 0:c.lifecycle)?void 0:d.afterBridgeRender)||f.emit(n)},async destroy(e){var o,n,l,i,s,u;if(L.log("createBridgeComponent destroy Info",{dom:e.dom}),null==(l=null==(n=null==(o=null==t?void 0:t.bridgeHook)?void 0:o.lifecycle)?void 0:n.beforeBridgeDestroy)||l.emit(e),T(a)){let t=r.get(e.dom);null==t||t.unmount(),r.delete(e.dom)}else Z.unmountComponentAtNode(e.dom);null==(u=null==(s=null==(i=null==t?void 0:t.bridgeHook)?void 0:i.lifecycle)?void 0:s.afterBridgeDestroy)||u.emit(e)},rawComponent:e.rootComponent,__BRIDGE_FN__:e=>{}}}}et.createRoot=Z.createRoot,et.hydrateRoot=Z.hydrateRoot}}]);